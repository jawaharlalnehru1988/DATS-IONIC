<div [ngClass]="currentTheme$ | async">
  <ion-header [translucent]="translucent">
    <ion-toolbar>
      @if(showMenuButton) {
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
      }
      <ion-title>{{ dynamicTitle$ | async }}</ion-title>
      @if(showPersonIcon) {
        <ion-buttons slot="end">
          <ion-button fill="clear" (click)="onPersonIconClicked($event)">
            @if((isAuthenticated$ | async) && (userInitials$ | async); as initials) {
              <!-- Show user initials when authenticated -->
              <div class="user-initials">{{ initials }}</div>
            } @else {
              <!-- Show person icon when not authenticated -->
              <ion-icon name="person-circle-outline"></ion-icon>
            }
          </ion-button>
        </ion-buttons>
      }

    </ion-toolbar>
  </ion-header>
</div>
